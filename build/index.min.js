!function(){"use strict";const e=(e={type:n,id:o,parent:r,innerHTML:a,inputProps:l,eventObject:i,attrs:s})=>{let t,{type:n,id:o,parent:r,innerHTML:a,inputProps:l,eventObject:i,attrs:s}=e;if(!n||!r)return;"string"==typeof r&&(r=document.getElementById(r));let c=document.createElement(n);if("input"===n){if(l.checked&&(c.checked=l.checked),c.type=l.type,t=l.container?document.createElement(l.container):document.createElement("div"),l.name&&c.setAttribute("name",l.name),l.label&&l.for){const e=document.createElement("label");e.setAttribute("for",l.for),e.innerHTML=l.label,t.appendChild(e),r.appendChild(t),r=t}l.value&&c.setAttribute("value",l.value),l.min&&c.setAttribute("min",l.min),l.max&&c.setAttribute("max",l.max),l.step&&c.setAttribute("step",l.step)}if(o&&c.setAttribute("id",`${o}`),s)for(let e=0;e<s.length;e++)c.setAttribute(s[e].attr,s[e].value),"disabled"===s[e].attr&&"false"===s[e].value&&c.removeAttribute("disabled");a&&(c.innerHTML=a),i&&c.addEventListener(i.listener,(e=>{i.func(e)})),r.appendChild(c)},t=(e,t)=>""===e?"":"string"!=typeof e?'replaceHTML error: Parameter "text" not a string.':(t?"&lt;br&gt;"===(e=(e=(e=(e=e.replace(/\[\/]?n/g,"<br>")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/ /g,"&nbsp;")).substr(e.length-10)&&(e=e.slice(0,-10)):e=(e=(e=(e=e.replace(/<br\s*[\/]?>/gi,"\n")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&nbsp;/g," "),e),n=n=>{let o="";const r=e=>"Â ".repeat(e),a=document.getElementById("table-code");let l="";if(n.useClassName&&n.className.length>0&&(l=` class="${n.className}"`),o+=`&lt;table${l}&gt<br>`,n.caption&&(o+=`${r(2)}&lt;caption&gt${n.captionText}&lt;/caption&gt<br>`),n.colgroup){o+=`${r(2)}&lt;colgroup&gt<br>`;for(let e=0;e<n.colgroupProps.length;e++){let t=`${r(4)}&lt;col`;n.colgroupProps[e].span>1&&(t+=` span="${n.colgroupProps[e].span}"`),""!=n.colgroupProps[e].className&&null!=n.colgroupProps[e].className&&(t+=` class="${n.colgroupProps[e].className}"`),t+="&gt<br>",o+=t}o+=`${r(2)}&lt;/colgroup&gt<br>`}if(n.header){o+=`${r(2)}&lt;thead&gt<br>`;for(let e=0;e<n.headerContent.length;e++){o+=`${r(4)}&lt;tr&gt<br>`;for(let a=0;a<n.headerContent[e].length;a++){let l="th";n.headerContent[e][a].colCollision||n.headerContent[e][a].rowCollision||(o+=`${r(6)}&lt;${l}`,n.headerContent[e][a].rowspan>1&&(o+=` rowspan="${n.headerContent[e][a].rowspan}"`),n.headerContent[e][a].colspan>1&&(o+=` colspan="${n.headerContent[e][a].colspan}"`),o+=`&gt${t(n.headerContent[e][a].innerHTML,!0)}&lt;/${l}&gt<br>`)}o+=`${r(4)}&lt;/tr&gt<br>`}o+=`${r(2)}&lt;/thead&gt<br>`}o+=`${r(2)}&lt;tbody&gt<br>`;for(let e=0;e<n.content.length;e++){o+=`${r(4)}&lt;tr&gt<br>`;for(let a=0;a<n.content[e].length;a++){let l=n.content[e][a].isHeader,i=n.content[e][a].headerScope,s=l?`th scope="${i}"`:"td",c=l?"th":"td";n.content[e][a].colCollision||n.content[e][a].rowCollision||(o+=`${r(6)}&lt;${s}`,n.content[e][a].rowspan>1&&(o+=` rowspan="${n.content[e][a].rowspan}"`),n.content[e][a].colspan>1&&(o+=` colspan="${n.content[e][a].colspan}"`),o+=`&gt${t(n.content[e][a].innerHTML,!0)}&lt;/${c}&gt<br>`)}o+=`${r(4)}&lt;/tr&gt<br>`}if(o+=`${r(2)}&lt;/tbody&gt<br>`,n.footer){o+=`${r(2)}&lt;tfoot&gt<br>`;for(let e=0;e<n.footerContent.length;e++){o+=`${r(4)}&lt;tr&gt<br>`;for(let a=0;a<n.footerContent[e].length;a++){let l=n.footerContent[e][a].isHeader,i=n.footerContent[e][a].headerScope,s=l?`th scope="${i}"`:"td",c=l?"th":"td";n.footerContent[e][a].colCollision||n.footerContent[e][a].rowCollision||(o+=`${r(6)}&lt;${s}`,n.footerContent[e][a].rowspan>1&&(o+=` rowspan="${n.content[e][a].rowspan}"`),n.footerContent[e][a].colspan>1&&(o+=` colspan="${n.footerContent[e][a].colspan}"`),o+=`&gt${t(n.footerContent[e][a].innerHTML,!0)}&lt;/${c}&gt<br>`)}o+=`${r(4)}&lt;/tr&gt<br>`}o+=`${r(2)}&lt;/tfoot&gt<br>`}return o+="&lt;/table&gt<br>",a.innerHTML=o,document.getElementById("copy-table-code")||e({type:"button",id:"copy-table-code",parent:"markup-controls",innerHTML:"Copy HTML",eventObject:{listener:"click",func:()=>{(e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})(t(a.innerHTML))}}}),o},o=t=>{let n=document.getElementById("preview-table");if(n&&n.parentNode.removeChild(n),e({type:"table",id:"preview-table",parent:"preview"}),t.caption&&e({type:"caption",id:"preview-table-caption",parent:"preview-table",innerHTML:t.captionText}),t.header){e({type:"thead",id:"preview-thead",parent:"preview-table"});for(let n=0;n<t.headerContent.length;n++){e({type:"tr",id:`preview-table-header-row-${n}`,parent:"preview-thead"});for(let o=0;o<t.headerContent[n].length;o++){if(t.headerContent[n][o].rowCollision||t.headerContent[n][o].colCollision)continue;e({type:"th",id:`preview-th-${n}${o}`,parent:`preview-table-header-row-${n}`,innerHTML:t.headerContent[n][o].innerHTML,attrs:[{attr:"rowspan",value:t.headerContent[n][o].rowspan},{attr:"colspan",value:t.headerContent[n][o].colspan}]})}}}e({type:"tbody",id:"preview-tbody",parent:"preview-table"});for(let n=0;n<t.content.length;n++){e({type:"tr",id:`preview-table-row-${n}`,parent:"preview-tbody"});for(let o=0;o<t.content[n].length;o++){if(t.content[n][o].rowCollision||t.content[n][o].colCollision)continue;let r=t.content[n][o].isHeader?"th":"td";e({type:r,id:`preview-td-${n}${o}`,parent:`preview-table-row-${n}`,innerHTML:t.content[n][o].innerHTML,attrs:[{attr:"rowspan",value:t.content[n][o].rowspan},{attr:"colspan",value:t.content[n][o].colspan},{attr:"scope",value:t.content[n][o].headerScope}]})}}if(t.footer){e({type:"tfoot",id:"preview-tfoot",parent:"preview-table"});for(let n=0;n<t.footerContent.length;n++){e({type:"tr",id:`preview-table-footer-row-${n}`,parent:"preview-tfoot"});for(let o=0;o<t.footerContent[n].length;o++){if(t.footerContent[n][o].rowCollision||t.footerContent[n][o].colCollision)continue;let r=t.footerContent[n][o].isHeader?"th":"td";e({type:r,id:`preview-footer-td-${n}${o}`,parent:`preview-table-footer-row-${n}`,innerHTML:t.footerContent[n][o].innerHTML,attrs:[{attr:"rowspan",value:t.footerContent[n][o].rowspan},{attr:"colspan",value:t.footerContent[n][o].colspan},{attr:"scope",value:t.footerContent[n][o].headerScope}]})}}}},r=()=>{const t=document.getElementById("editor-table-container");t.parentNode.removeChild(t),e({type:"div",id:"editor-table-container",parent:"editor-area"}),e({type:"table",id:"editor-table",parent:"editor-table-container",attrs:[{attr:"class",value:"editor-table"}]})},a=e=>{let t=[];for(let n=0;n<e.content[0].length;n++)t.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"});return t},l=e=>{let t=[];for(let n=0;n<e.headerContent[0].length;n++)t.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1});return t},i=e=>{let t=[];for(let n=0;n<e.footerContent[0].length;n++)t.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1});return t},s=t=>{e({type:"div",id:"editor-table-controls",parent:"editor-table-container"}),e({type:"button",id:"add-row",parent:"editor-table-controls",innerHTML:"add row",eventObject:{listener:"click",func:()=>{t.content.push(a(t)),C(t,!0)}}}),e({type:"button",id:"remove-row",parent:"editor-table-controls",innerHTML:"remove row",eventObject:{listener:"click",func:()=>{for(let e=0;e<t.content.at(-1).length;e++)if(!0===t.content.at(-1)[e].rowCollision)return void alert("Rowspan detected, cannot delete row. Remove rowspan first.");t.content.length>1&&t.content.pop(),C(t,!0)}}}),t.header&&(e({type:"button",id:"add-header-row",parent:"editor-table-controls",innerHTML:"add header row",eventObject:{listener:"click",func:()=>{t.header&&t.headerContent.push(l(t)),C(t,!0)}}}),e({type:"button",id:"remove-header-row",parent:"editor-table-controls",innerHTML:"remove header row",eventObject:{listener:"click",func:()=>{if(t.header){for(let e=0;e<t.headerContent.at(-1).length;e++)if(!0===t.headerContent.at(-1)[e].rowCollision)return void alert("Rowspan detected, cannot delete row. Remove rowspan first.");t.headerContent.length>1&&t.headerContent.pop(),C(t,!0)}}}})),t.footer&&(e({type:"button",id:"add-footer-row",parent:"editor-table-controls",innerHTML:"add footer row",eventObject:{listener:"click",func:()=>{t.footer&&t.footerContent.push(i(t)),C(t,!0)}}}),e({type:"button",id:"remove-footer-row",parent:"editor-table-controls",innerHTML:"remove footer row",eventObject:{listener:"click",func:()=>{if(t.footer){for(let e=0;e<t.footerContent.at(-1).length;e++)if(!0===t.footerContent.at(-1)[e].rowCollision)return void alert("Rowspan detected, cannot delete row. Remove rowspan first.");t.footerContent.length>1&&t.footerContent.pop(),C(t,!0)}}}})),e({type:"button",id:"add-column",parent:"editor-table-controls",innerHTML:"add column",attrs:[{attr:"class",value:"add-column"}],eventObject:{listener:"click",func:()=>{(e=>{e.columnSettings.push({useWidth:!1,width:0,widthUnits:"px",align:"left"}),e.colgroupProps.push({span:1}),e.content.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"}))),e.headerContent.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1}))),e.footerContent.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"})))})(t),C(t,!0)}}}),e({type:"button",id:"remove-column",parent:"editor-table-controls",innerHTML:"remove column",eventObject:{listener:"click",func:()=>{let e=!1;for(let n=0;n<t.content.length;n++)!0===t.content[n].at(-1).colCollision&&(e=!0);for(let n=0;n<t.headerContent.length;n++)!0===t.headerContent[n].at(-1).colCollision&&(e=!0);for(let n=0;n<t.footerContent.length;n++)!0===t.footerContent[n].at(-1).colCollision&&(e=!0);e?alert("Colspan detected, cannot delete column. Remove colspan first."):(t.columnSettings.length>1&&t.columnSettings.pop(),t.colgroupProps.length>1&&t.colgroupProps.pop(),t.headerContent.forEach((e=>{e.length>1&&e.pop()})),t.content.forEach((e=>{e.length>1&&e.pop()})),t.footerContent.forEach((e=>{e.length>1&&e.pop()})),C(t,!0))}}}),e({type:"input",id:"colgroup-toggle",parent:"editor-table-controls",inputProps:{type:"checkbox",label:"Colgroup",name:"colgroup-toggle",for:"colgroup-toggle",checked:t.colgroup},eventObject:{listener:"click",func:()=>{t.colgroup=!t.colgroup,C(t,!0)}}}),e({type:"input",id:"caption-toggle",parent:"editor-table-controls",attrs:[{attr:"type",value:"checkbox"},{attr:"name",value:"captionToggle"},{attr:"value",value:"Toggle caption"}],inputProps:{type:"checkbox",label:"Caption",name:"caption-toggle",for:"caption-toggle",value:"Toggle Caption",checked:t.caption},eventObject:{listener:"click",func:()=>{t.caption=!t.caption,C(t,!0)}}}),e({type:"input",id:"header-toggle",parent:"editor-table-controls",inputProps:{type:"checkbox",label:"Header",name:"header-toggle",for:"header-toggle",checked:t.header},eventObject:{listener:"click",func:()=>{t.header=!t.header,C(t,!0)}}}),e({type:"input",id:"footer-toggle",parent:"editor-table-controls",inputProps:{type:"checkbox",label:"Footer",name:"footer-toggle",for:"footer-toggle",checked:t.footer},eventObject:{listener:"click",func:()=>{t.footer=!t.footer,C(t,!0)}}}),e({type:"input",id:"table-use-classname",parent:"editor-table-controls",inputProps:{type:"checkbox",label:"Use table classname",for:"table-use-classname",checked:t.useClassName},eventObject:{listener:"click",func:()=>{t.useClassName=!t.useClassName,C(t,!0)}}}),t.useClassName&&e({type:"input",id:"table-class-selector",parent:"editor-table-controls",inputProps:{type:"text",label:"Table classname",for:"table-class-selector",value:t.className},eventObject:{listener:"input",func:e=>{t.className=e.target.value,C(t)}}}),e({type:"button",id:"reset-table",parent:"editor-table-controls",innerHTML:"reset table",eventObject:{listener:"click",func:e=>{confirm("Are you sure you want to clear the current table data?")&&(localStorage.removeItem("savedState"),location.reload())}}})},c=t=>{e({type:"tr",id:"col-settings-container",parent:"editor-table",attrs:[{attr:"style",value:"display: table-header-group"}]});for(let n=0;n<t.columnSettings.length;n++){e({type:"td",id:`setting-${n}`,parent:"col-settings-container",attrs:[{attr:"width",value:!!t.columnSettings[n].useWidth&&t.columnSettings[n].width+t.columnSettings[n].widthUnits},{attr:"span",value:t.columnSettings[n].span?t.columnSettings[n].span+"":1},{attr:"style",value:"display: table-cell"}]}),e({type:"div",id:`col-align-radio-group-${n}`,parent:`setting-${n}`,innerHTML:"Text align"});["none","left","center","right","justify"].map(((o,r)=>{e({type:"input",id:`col-align-option-${n}${r}`,parent:`col-align-radio-group-${n}`,inputProps:{type:"radio",label:o,value:o,name:`align-options-${n}`,for:`col-align-option-${n}${r}`,checked:t.columnSettings[n].align===o},eventObject:{listener:"click",func:e=>{t.columnSettings[n].align=e.target.value,C(t,!0)}}})})),e({type:"input",id:`use-col-fixed-width-${n}`,parent:`setting-${n}`,inputProps:{type:"checkbox",label:"Fixed width",for:`use-col-fixed-width-${n}`,checked:t.columnSettings[n].useWidth},eventObject:{listener:"click",func:()=>{t.columnSettings[n].useWidth=!t.columnSettings[n].useWidth,C(t,!0)}}}),t.columnSettings[n].useWidth&&(e({type:"input",id:`col-width-input-${n}`,parent:`setting-${n}`,inputProps:{type:"number",container:"div",for:`columnWidth-${n}`,label:"Col width",value:t.columnSettings[n].width,min:0,max:1e3}}),e({type:"button",id:`col-width-${n}-set`,parent:`setting-${n}`,innerHTML:"Set",eventObject:{listener:"click",func:()=>{const e=document.getElementById(`col-width-input-${n}`).value;t.columnSettings[n].width=e,C(t,!0)}}}))}},p=t=>{t.caption&&(e({type:"h3",id:"caption-heading",parent:"editor-table",innerHTML:"Table Caption"}),e({type:"p",id:"table-caption",parent:"editor-table",innerHTML:t.captionText,attrs:[{attr:"contenteditable",value:"true"}],eventObject:{listener:"input",func:e=>{t.captionText=e.target.textContent,C(t)}}}))},d=t=>{if(t.colgroup){e({type:"h3",innerHTML:"Table Colgroup",parent:"editor-table"}),e({type:"tr",id:"editor-table-colgroup",parent:"editor-table",attrs:[{attr:"style",value:"display: table-header-group"}]});for(let n=0;n<t.colgroupProps.length;n++)e({type:"td",id:`colgroup-item-${n}`,parent:"editor-table-colgroup",attrs:[{attr:"span",value:t.colgroupProps[n].span?t.colgroupProps[n].span+"":1}]}),e({type:"h4",parent:`colgroup-item-${n}`,innerHTML:`Col ${n}`}),e({type:"input",id:`colgroup-use-span-${n}`,parent:`colgroup-item-${n}`,attrs:[{attr:"type",value:"checkbox"}],inputProps:{type:"checkbox",label:"Span",name:"span-toggle",for:`colgroup-use-span-${n}`,value:"Span",checked:t.colgroupProps[n].useSpan},eventObject:{listener:"click",func:()=>{t.colgroupProps[n].useSpan=!t.colgroupProps[n].useSpan,C(t,!0)}}}),t.colgroupProps[n].useSpan&&e({type:"input",id:`colgroup-use-span-amount-${n}`,parent:`colgroup-item-${n}`,inputProps:{type:"number",label:`Amount (current max is ${t.content.length+t.headerContent.length+t.footerContent.length})`,name:"span-toggle",for:`colgroup-use-span-${n}`,checked:t.colgroupProps[n].useSpan},eventObject:{listener:"input",func:e=>{e.target.value<=t.content.length+t.headerContent.length+t.footerContent.length?(t.colgroupProps[n].span=e.target.value,C(t)):(alert("Please enter a valid number (span cannot exceed total table rows length)"),e.target.value=""),C(t)}}}),e({type:"input",id:`colgroup-use-classname-name-${n}`,parent:`colgroup-item-${n}`,attrs:[{attr:"type",value:"checkbox"}],inputProps:{type:"checkbox",label:"Class",name:"classname-toggle",for:`colgroup-use-classname-name-${n}`,checked:t.colgroupProps[n].useClassName},eventObject:{listener:"click",func:()=>{t.colgroupProps[n].useClassName=!t.colgroupProps[n].useClassName,C(t,!0)}}}),t.colgroupProps[n].useClassName&&e({type:"input",id:`colgroup-use-classname-name-${n}`,parent:`colgroup-item-${n}`,attrs:{attr:"placeholder",value:"Enter a class name"},inputProps:{type:"text",label:"Name",name:`colgroup-use-classname-name-${n}`,for:`colgroup-use-classname-name-${n}`,checked:t.colgroupProps[n].useClassName},eventObject:{listener:"input",func:e=>{null!=e.target.value&&""!=e.target.value&&(t.colgroupProps[n].span=e.target.value,C(t)),C(t)}}})}},u=(e,t,n,o,r,a,l)=>{let i,s;if(a?(i=e.headerContent[t][n].rowspan,s=e.headerContent[t][n].colspan):l?(i=e.footerContent[t][n].rowspan,s=e.footerContent[t][n].colspan):(i=e.content[t][n].rowspan,s=e.content[t][n].colspan),i>1)for(let c=r;c<i;c++)for(let r=0;r<s;r++)a?e.headerContent[t+c][n+r].rowCollision=o:l?e.footerContent[t+c][n+r].rowCollision=o:e.content[t+c][n+r].rowCollision=o;if(s>1)for(let c=r;c<s;c++)for(let r=0;r<i;r++)a?e.headerContent[t+r][n+c].colCollision=o:l?e.footerContent[t+r][n+c].colCollision=o:e.content[t+r][n+c].colCollision=o},h=t=>{if(t.header){e({type:"h3",id:"header-heading",parent:"editor-table",innerHTML:"Table Header"}),e({type:"thead",id:"table-header",parent:"editor-table"});for(let n=0;n<t.headerContent.length;n++){e({type:"tr",id:`table-header-row-${n}`,parent:"table-header"});for(let o=0;o<t.headerContent[n].length;o++)t.headerContent[n][o].rowCollision||t.headerContent[n][o].colCollision||(u(t,n,o,!0,1,!0),e({type:"th",id:`th-${n}${o}`,parent:`table-header-row-${n}`,attrs:[{attr:"rowspan",value:t.headerContent[n][o].rowspan},{attr:"colspan",value:t.headerContent[n][o].colspan}]}),e({type:"p",id:`hp-${n}${o}`,parent:`th-${n}${o}`,innerHTML:t.headerContent[n][o].innerHTML,attrs:[{attr:"classname",value:"th-p"},{attr:"contenteditable",value:"true"}],eventObject:{listener:"input",func:e=>{t.headerContent[n][o].innerHTML=e.target.innerHTML,C(t)}}}),e({type:"button",id:`increase-header-rowspan-button-${n}${o}`,parent:`th-${n}${o}`,innerHTML:"RS+",attrs:[{attr:"classname",value:"increase-rowspan-button"}],eventObject:{listener:"click",func:()=>{let e=0;for(let n=0;n<t.headerContent.length-1;n++)t.headerContent[n][o].rowCollision||(e+=t.headerContent[n][o].rowspan);(e>=t.headerContent.length||n===t.headerContent.length-1)&&t.headerContent.push(l(t)),t.headerContent[n][o].rowspan++,u(t,n,o,!0,1,!0),C(t,!0)}}}),e({type:"button",id:`decrease-header-rowspan-button-${n}${o}`,parent:`th-${n}${o}`,innerHTML:"RS-",attrs:[{attr:"classname",value:"decrease-rowspan-button"},{attr:"disabled",value:t.headerContent[n][o].rowspan>1?"false":"true"}],eventObject:{listener:"click",func:()=>{u(t,n,o,!1,0,!0),t.headerContent[n][o].rowspan--,C(t,!0)}}}),e({type:"button",id:`increase-header-colspan-button-${n}${o}`,parent:`th-${n}${o}`,innerHTML:"CS+",eventObject:{listener:"click",func:()=>{let e=0;for(let o=0;o<t.headerContent[n].length-1;o++)t.headerContent[n][o].colCollision||(e+=t.headerContent[n][o].colspan);(e>=t.headerContent[n].length||o===t.headerContent[n].length-1)&&(t.colgroupProps.push({useWidth:!1,width:0,widthUnits:"px",span:1}),t.columnSettings.push({useWidth:!1,width:0,widthUnits:"px",align:"none"}),t.headerContent.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1}))),t.footerContent.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"}))),t.content.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"})))),t.headerContent[n][o].colspan++,u(t,n,o,!0,1,!0),C(t,!0)}}}),e({type:"button",id:`decrease-colspan-button-${n}${o}`,parent:`th-${n}${o}`,innerHTML:"CS-",attrs:[{attr:"classname",value:"decrease-colspan-button"},{attr:"disabled",value:t.headerContent[n][o].colspan>1?"false":"true"}],eventObject:{listener:"click",func:()=>{u(t,n,o,!1,0,!0),t.headerContent[n][o].colspan--,C(t,!0)}}}))}}},f=t=>{e({type:"h3",id:"body-heading",parent:"editor-table",innerHTML:"Table Body"}),e({type:"tbody",id:"table-body",parent:"editor-table"});for(let n=0;n<t.content.length;n++){e({type:"tr",id:`table-row-${n}`,parent:"table-body"});for(let o=0;o<t.content[n].length;o++)t.content[n][o].rowCollision||t.content[n][o].colCollision||(u(t,n,o,!0,1),e({type:"td",id:`td-${n}${o}`,parent:`table-row-${n}`,attrs:[{attr:"rowspan",value:t.content[n][o].rowspan},{attr:"colspan",value:t.content[n][o].colspan}]}),e({type:"p",id:`p-${n}${o}`,parent:`td-${n}${o}`,innerHTML:t.content[n][o].innerHTML,attrs:[{attr:"classname",value:"td-p"},{attr:"contenteditable",value:"true"}],eventObject:{listener:"input",func:e=>{t.content[n][o].innerHTML=e.target.innerHTML,C(t)}}}),e({type:"button",id:`increase-rowspan-button-${n}${o}`,parent:`td-${n}${o}`,innerHTML:"RS+",attrs:[{attr:"classname",value:"increase-rowspan-button"}],eventObject:{listener:"click",func:()=>{let e=0;for(let n=0;n<t.content.length-1;n++)t.content[n][o].rowCollision||(e+=t.content[n][o].rowspan);(e>=t.content.length||n===t.content.length-1)&&t.content.push(a(t)),t.content[n][o].rowspan++,u(t,n,o,!0,1),C(t,!0)}}}),e({type:"button",id:`decrease-rowspan-button-${n}${o}`,parent:`td-${n}${o}`,innerHTML:"RS-",attrs:[{attr:"classname",value:"decrease-rowspan-button"},{attr:"disabled",value:t.content[n][o].rowspan>1?"false":"true"}],eventObject:{listener:"click",func:()=>{u(t,n,o,!1,0),t.content[n][o].rowspan--,C(t,!0)}}}),e({type:"button",id:`increase-colspan-button-${n}${o}`,parent:`td-${n}${o}`,innerHTML:"CS+",eventObject:{listener:"click",func:()=>{let e=0;for(let o=0;o<t.content[n].length-1;o++)t.content[n][o].colCollision||(e+=t.content[n][o].colspan);(e>=t.content[n].length||o===t.content[n].length-1)&&(t.colgroupProps.push({useWidth:!1,width:0,widthUnits:"px",span:1}),t.columnSettings.push({useWidth:!1,width:0,widthUnits:"px",align:"none"}),t.content.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"}))),t.headerContent.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1}))),t.footerContent.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"})))),t.content[n][o].colspan++,u(t,n,o,!0,1),C(t,!0)}}}),e({type:"button",id:`decrease-colspan-button-${n}${o}`,parent:`td-${n}${o}`,innerHTML:"CS-",attrs:[{attr:"classname",value:"decrease-colspan-button"},{attr:"disabled",value:t.content[n][o].colspan>1?"false":"true"}],eventObject:{listener:"click",func:()=>{u(t,n,o,!1,0),t.content[n][o].colspan--,C(t,!0)}}}),e({type:"input",id:`isHeader-${n}${o}`,parent:`td-${n}${o}`,attrs:[{attr:"classname",value:"isheader"}],inputProps:{type:"checkbox",container:"div",label:"Is header",for:`isHeader-${n}${o}`,name:`isHeader-${n}${o}`,checked:t.content[n][o].isHeader},eventObject:{listener:"change",func:e=>{t.content[n][o].isHeader=!t.content[n][o].isHeader,C(t,!0)}}}),t.content[n][o].isHeader&&(e({type:"div",id:`isHeaderContainer-${n}${o}`,parent:`td-${n}${o}`}),e({type:"span",innerHTML:"Scope",parent:`isHeaderContainer-${n}${o}`}),e({type:"input",id:`headerScopeCol-${n}${o}`,parent:`isHeaderContainer-${n}${o}`,attrs:[{attr:"classname",value:"headerScope"}],inputProps:{type:"radio",container:"div",label:"Col",for:`headerScopeCol-${n}${o}`,name:`scope-${n}${o}`,checked:"col"===t.content[n][o].headerScope},eventObject:{listener:"change",func:()=>{t.content[n][o].headerScope="col",C(t,!0)}}}),e({type:"input",id:`headerScopeRow-${n}${o}`,parent:`isHeaderContainer-${n}${o}`,attrs:[{attr:"classname",value:"headerScope"}],inputProps:{type:"radio",container:"div",label:"Row",for:`headerScopeRow-${n}${o}`,name:`scope-${n}${o}`,checked:"row"===t.content[n][o].headerScope},eventObject:{listener:"change",func:()=>{t.content[n][o].headerScope="row",C(t,!0)}}})))}},g=t=>{if(t.footer){e({type:"h3",id:"footer-heading",parent:"editor-table",innerHTML:"Table Footer"}),e({type:"tfoot",id:"table-footer",parent:"editor-table"});for(let n=0;n<t.footerContent.length;n++){e({type:"tr",id:`table-footer-row-${n}`,parent:"table-footer"});for(let o=0;o<t.footerContent[n].length;o++)t.footerContent[n][o].rowCollision||t.footerContent[n][o].colCollision||(u(t,n,o,!0,1,!1,!0),e({type:"td",id:`footer-td-${n}${o}`,parent:`table-footer-row-${n}`,attrs:[{attr:"rowspan",value:t.footerContent[n][o].rowspan},{attr:"colspan",value:t.footerContent[n][o].colspan}]}),e({type:"p",id:`fp-${n}${o}`,parent:`footer-td-${n}${o}`,innerHTML:t.footerContent[n][o].innerHTML,attrs:[{attr:"classname",value:"footer-td-p"},{attr:"contenteditable",value:"true"}],eventObject:{listener:"input",func:e=>{t.footerContent[n][o].innerHTML=e.target.innerHTML,C(t)}}}),e({type:"button",id:`increase-footer-rowspan-button-${n}${o}`,parent:`footer-td-${n}${o}`,innerHTML:"RS+",attrs:[{attr:"classname",value:"increase-rowspan-button"}],eventObject:{listener:"click",func:()=>{let e=0;for(let n=0;n<t.footerContent.length-1;n++)t.footerContent[n][o].rowCollision||(e+=t.footerContent[n][o].rowspan);(e>=t.footerContent.length||n===t.footerContent.length-1)&&t.footerContent.push(i(t)),t.footerContent[n][o].rowspan++,u(t,n,o,!0,1,!1,!0),C(t,!0)}}}),e({type:"button",id:`decrease-footer-rowspan-button-${n}${o}`,parent:`footer-td-${n}${o}`,innerHTML:"RS-",attrs:[{attr:"classname",value:"decrease-rowspan-button"},{attr:"disabled",value:t.footerContent[n][o].rowspan>1?"false":"true"}],eventObject:{listener:"click",func:()=>{u(t,n,o,!1,0,!1,!0),t.footerContent[n][o].rowspan--,C(t,!0)}}}),e({type:"button",id:`increase-footer-colspan-button-${n}${o}`,parent:`footer-td-${n}${o}`,innerHTML:"CS+",eventObject:{listener:"click",func:()=>{let e=0;for(let o=0;o<t.footerContent[n].length-1;o++)t.footerContent[n][o].colCollision||(e+=t.footerContent[n][o].colspan);(e>=t.footerContent[n].length||o===t.footerContent[n].length-1)&&(t.colgroupProps.push({useWidth:!1,width:0,widthUnits:"px",span:1}),t.columnSettings.push({useWidth:!1,width:0,widthUnits:"px",align:"none"}),t.headerContent.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1}))),t.footerContent.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1}))),t.content.forEach((e=>e.push({innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"})))),t.footerContent[n][o].colspan++,u(t,n,o,!0,1,!1,!0),C(t,!0)}}}),e({type:"button",id:`decrease-colspan-button-${n}${o}`,parent:`footer-td-${n}${o}`,innerHTML:"CS-",attrs:[{attr:"classname",value:"decrease-colspan-button"},{attr:"disabled",value:t.footerContent[n][o].colspan>1?"false":"true"}],eventObject:{listener:"click",func:()=>{u(t,n,o,!1,0,!1,!0),t.footerContent[n][o].colspan--,C(t,!0)}}}),e({type:"input",id:`footer-isHeader-${n}${o}`,parent:`footer-td-${n}${o}`,attrs:[{attr:"classname",value:"isheader"}],inputProps:{type:"checkbox",container:"div",label:"Is header",for:`footer-isHeader-${n}${o}`,name:`footer-isHeader-${n}${o}`,checked:t.footerContent[n][o].isHeader},eventObject:{listener:"change",func:e=>{t.footerContent[n][o].isHeader=!t.footerContent[n][o].isHeader,C(t,!0)}}}),t.footerContent[n][o].isHeader&&(e({type:"div",id:`footer-isHeaderContainer-${n}${o}`,parent:`footer-td-${n}${o}`}),e({type:"span",innerHTML:"Scope",parent:`footer-isHeaderContainer-${n}${o}`}),e({type:"input",id:`footer-headerScopeCol-${n}${o}`,parent:`footer-isHeaderContainer-${n}${o}`,attrs:[{attr:"classname",value:"headerScope"}],inputProps:{type:"radio",container:"div",label:"Col",for:`footer-headerScopeCol-${n}${o}`,name:`footer-scope-${n}${o}`,checked:"col"===t.footerContent[n][o].headerScope},eventObject:{listener:"change",func:()=>{t.footerContent[n][o].headerScope="col",C(t,!0)}}}),e({type:"input",id:`footer-headerScopeRow-${n}${o}`,parent:`footer-isHeaderContainer-${n}${o}`,attrs:[{attr:"classname",value:"headerScope"}],inputProps:{type:"radio",container:"div",label:"Row",for:`footer-headerScopeRow-${n}${o}`,name:`footer-scope-${n}${o}`,checked:"row"===t.footerContent[n][o].headerScope},eventObject:{listener:"change",func:()=>{t.footerContent[n][o].headerScope="row",C(t,!0)}}})))}}},C=(e,t)=>{localStorage.setItem("savedState",JSON.stringify(e)),t&&b(e),n(e),o(e)},b=e=>{[r,c,s,d,p,h,f,g].map((t=>t(e)))};let w="",$={loading:!0,header:!0,footer:!0,colgroup:!0,caption:!1,captionText:"captionText",useClassName:!1,className:"",styles:[{selector:"tbody>tr>:nth-child(1)",styles:"text-align: left"}],columnSettings:[{useWidth:!1,width:0,widthUnits:"px",align:"none"},{useWidth:!1,width:0,widthUnits:"px",align:"none"},{useWidth:!1,width:0,widthUnits:"px",align:"none"}],colgroupProps:[{useSpan:!1,span:1,useClassName:!1,className:""},{useSpan:!1,span:1,useClassName:!1,className:""},{useSpan:!1,span:1,useClassName:!1,className:""}],headerContent:[[{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1},{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1},{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1}]],content:[[{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"},{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"},{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"}],[{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"},{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"},{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"}]],footerContent:[[{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"},{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"},{innerHTML:"innerHTML",rowspan:1,colspan:1,rowCollision:!1,colCollision:!1,isHeader:!1,headerScope:"col"}]]};const v=new Promise(((e,t)=>{w=JSON.parse(localStorage.getItem("savedState")),w?e("Save state found."):t("No save state.")}));v.then((()=>{$=w,m()})),v.catch((()=>{console.log("No local state"),m()}));const m=()=>{b($),n($),o($),document.getElementById("loading-modal").classList.add("display-none")}}();
