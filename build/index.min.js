!function(){"use strict";const e={state:{loading:!0,columns:5,rows:5,header:!0,caption:!1,captionText:" captionText ",headerContent:[{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1}],content:[[{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1}],[{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1}],[{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1}],[{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1}],[{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1},{innerHTML:"innerHTML",rowspan:1,colspan:1}]]},addState:(e,t)=>state[e]=t,removeState:e=>delete state[e],updateState:(e,t)=>state[e]=t},t=(e,t,n,o,r,a,c,l,i,s,p)=>{if("string"==typeof t&&(t=document.getElementById(t)),!e||!t)return void console.log("createElement requires type and parent params!");let d=document.createElement(e);if("input"===e){"checkbox"===l.type&&(d.setAttribute("type",l.type),d.setAttribute("name",l.name),d.setAttribute("value",l.value),d.checked=l.checked);const e=document.createElement("div"),o=document.createElement("label");o.setAttribute("for",n),o.innerHTML=l.value,e.appendChild(o),t.appendChild(e),t=e}n&&d.setAttribute("id",`${n}`),o&&d.setAttribute("class",`${o}`),r&&d.setAttribute("contenteditable","true"),i&&i>1&&d.setAttribute("rowspan",i),s&&s>1&&d.setAttribute("colspan",s),a&&(d.innerHTML=a),c&&d.addEventListener(c.type,(e=>{c.func(e)})),p&&d.setAttribute("disabled","true"),t.appendChild(d)},n=(e,t)=>{t||(t=document.getElementById("table-code"));let n="";const o=e=>"Â ".repeat(e);if(n+="&lt;table&gt<br>",e.caption&&(n+=`${o(2)}&lt;caption&gt${e.captionText}&lt;/caption&gt<br>`),e.header){n+=`${o(2)}&lt;thead&gt<br>${o(4)}&lt;tr&gt<br>`;for(let t=0;t<e.columns;t++)n+=`${o(6)}&lt;th&gt${e.headerContent[t].innerHTML}&lt;/th&gt<br>`;n+=`${o(4)}&lt;/tr&gt<br>${o(2)}&lt;/thead&gt<br>`}n+=`${o(2)}&lt;tbody&gt<br>`;for(let t=0;t<e.content.length;t++){n+=`${o(4)}&lt;tr&gt<br>`;for(let r=0;r<e.content[t].length;r++)n+=`${o(6)}&lt;td&gt${e.content[t][r].innerHTML}&lt;/td&gt<br>`;n+=`${o(4)}&lt;/tr&gt<br>`}n+=`${o(2)}&lt;/tbody&gt<br>`,n+="&lt;/table&gt<br>",t.innerHTML=n},o=e=>{const{state:r}=e,a=document.getElementById("table-code");let c,l=document.getElementById("editor-table-container"),i=document.getElementById("editor-area");l.parentNode.removeChild(l),l=document.createElement("div"),l.setAttribute("id","editor-table-container"),i.appendChild(l);const s=()=>{localStorage.setItem("savedState",JSON.stringify(r)),n(e.state,a),o(e)};if(t("div",l,"editor-table-container"),t("table","editor-table-container","editor-table","editor-table"),t("button","editor-table-container","add-row","add-row-button",!1,"Add Row",{type:"click",func:()=>{r.rows++,r.content.push(((e,t)=>{let{columns:n}=e.tables[t],o=[];for(let e=0;e<n;e++)o.push({innerHTML:" hi "});return o})(e.state,index)),s()}}),t("button","editor-table-container","remove-row","remove-row-button",!1,"Remove Row",{type:"click",func:()=>{r.rows>0&&r.rows--,r.content.pop(),s()}}),t("button","editor-table-container","add-column","add-column-button",!1,"Add Column",{type:"click",func:()=>{const e={innerHTML:"col"};r.header&&r.headerContent.push(e),r.content.forEach((t=>{t.push(e)})),r.columns++,s()}}),t("button","editor-table-container","remove-column","remove-column-button",!1,"Remove Column",{type:"click",func:()=>{r.header&&r.headerContent.pop(),r.content.forEach((e=>{e.pop()})),r.columns>0&&r.columns--,s()}}),t("input","editor-table-container","caption-toggle","caption-toggle",!1,!1,{type:"click",func:e=>{r.caption=!r.caption,e.target.checked?console.log("checked"):console.log("not checked"),s()}},{type:"checkbox",name:"captionToggle",value:"Toggle caption",checked:r.caption}),t("input","editor-table-container","header-toggle","header-toggle",!1,!1,{type:"click",func:()=>{r.header=!r.header,s()}},{type:"checkbox",name:"headerToggle",value:"Table header",checked:r.header}),r.caption&&t("caption","editor-table","table-caption",!1,!0,r.captionText,{type:"input",func:t=>{r.captionText=t.target.textContent,localStorage.setItem("savedState",JSON.stringify(r)),n(e.state,a)}}),r.header){t("thead","editor-table","table-head"),t("tr","table-head","table-header");for(let o=0;o<r.columns;o++)t("th","table-header",!1,!1,!0,r.headerContent[o].innerHTML,{type:"input",func:t=>{r.headerContent[o].innerHTML=t.target.textContent,localStorage.setItem("savedState",JSON.stringify(r)),n(e.state,a)}})}for(let o=0;o<r.content.length;o++){t("tbody","editor-table","table-body"),t("tr","table-body",`table-row-${o}`);for(let l=0;l<r.content[o].length;l++){t("td",`table-row-${o}`,`td-${o}${l}`,!1,!0,r.content[o][l].innerHTML,{type:"input",func:t=>{r.content[o][l].innerHTML=t.target.textContent,localStorage.setItem("savedState",JSON.stringify(r)),n(e.state,a)}},!1,r.content[o][l].rowspan,r.content[o][l].colspan),r.content[o][l].rowspan>1&&r.content[o+(r.content[o][l].rowspan-1)].splice(l,1),c=0;for(let e=0;e<r.content[o].length;e++)c+=r.content[o][e].rowspan;o<r.content.length-1&&t("button",`td-${o}${l}`,`increase-rowspan-button-${o}${l}`,"increase-rowspan-button",!1,"RS+",{type:"click",func:()=>{r.content[o][l].rowspan++,r.rowspans++,s()}},!1,!1,!1,c==r.content.length-1)}}};document.getElementById("add-row"),document.getElementById("add-column");const r=document.getElementById("copy-table-code"),a=document.getElementById("table-code");let c="";const l=new Promise(((e,t)=>{c=JSON.parse(localStorage.getItem("savedState")),c?e("Save state found."):t("No save state.")}));l.then((()=>{e.state=c,i()})),l.catch((()=>{console.log("No local state"),i()}));const i=()=>{o(e),n(e.state,a),r.addEventListener("click",(()=>{(e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})(a.innerHTML.replace(/<br\s*[\/]?>/gi,"\n").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," "))}))}}();
