!function(){"use strict";const e={state:{loading:!0,tables:[{columns:5,rows:5,header:!0,caption:!1,captionText:" captionText ",headerContent:[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}],content:[[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}],[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}],[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}],[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}],[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}]]}]},addState:(e,t)=>state[e]=t,removeState:e=>delete state[e],updateState:(e,t)=>state[e]=t},t=(e,t,n,a,r,o,l,i)=>{if("string"==typeof t&&(t=document.getElementById(t)),!e||!t)return void console.log("createElement requires type and parent params!");let c=document.createElement(e);if("input"===e){"checkbox"===i.type&&(c.setAttribute("type",i.type),c.setAttribute("name",i.name),c.setAttribute("value",i.value),c.checked=i.checked);const e=document.createElement("div"),a=document.createElement("label");a.setAttribute("for",n),a.innerHTML=i.value,e.appendChild(a),t.appendChild(e),t=e}n&&c.setAttribute("id",`${n}`),a&&c.setAttribute("class",`${a}`),r&&c.setAttribute("contenteditable","true"),o&&(c.innerHTML=o),l&&c.addEventListener(l.type,(e=>{l.func(e)})),t.appendChild(c)},n=(e,t)=>{t||(t=document.getElementById("table-code"));let n="";const a=e=>"Â ".repeat(e);for(let t=0;t<e.tables.length;t++){if(n+="&lt;table&gt<br>",e.tables[t].caption&&(n+=`${a(2)}&lt;caption&gt${e.tables[t].captionText}&lt;/caption&gt<br>`),e.tables[t].header){n+=`${a(2)}&lt;thead&gt<br>${a(4)}&lt;tr&gt<br>`;for(let r=0;r<e.tables[t].columns;r++)n+=`${a(6)}&lt;th&gt${e.tables[t].headerContent[r].innerHTML}&lt;/th&gt<br>`;n+=`${a(4)}&lt;/tr&gt<br>${a(2)}&lt;/thead&gt<br>`}n+=`${a(2)}&lt;tbody&gt<br>`;for(let r=0;r<e.tables[t].rows;r++){n+=`${a(4)}&lt;tr&gt<br>`;for(let o=0;o<e.tables[t].columns;o++)n+=`${a(6)}&lt;td&gt${e.tables[t].content[r][o].innerHTML}&lt;/td&gt<br>`;n+=`${a(4)}&lt;/tr&gt<br>`}n+=`${a(2)}&lt;/tbody&gt<br>`,n+="&lt;/table&gt<br>"}t.innerHTML=n},a=e=>{const{state:r}=e,o=document.getElementById("table-code");let l=document.getElementById("editor-table-container"),i=document.getElementById("editor-area");l.parentNode.removeChild(l),l=document.createElement("div"),l.setAttribute("id","editor-table-container"),i.appendChild(l);const c=()=>{localStorage.setItem("savedState",JSON.stringify(r)),n(e.state,o),a(e)};r.tables.map(((a,i)=>{if(t("div",l,`editor-table-container-${i}`),t("table",`editor-table-container-${i}`,`editor-table-${i}`,"editor-table"),t("button",`editor-table-container-${i}`,`add-row-${i}`,"add-row-button",!1,"Add Row",{type:"click",func:()=>{r.tables[i].rows++,r.tables[i].content.push(((e,t)=>{let{columns:n}=e.tables[t],a=[];for(let e=0;e<n;e++)a.push({innerHTML:" hi "});return a})(e.state,i)),c()}}),t("button",`editor-table-container-${i}`,`remove-row-${i}`,"remove-row-button",!1,"Remove Row",{type:"click",func:()=>{r.tables[i].rows>0&&r.tables[i].rows--,r.tables[i].content.pop(),c()}}),t("button",`editor-table-container-${i}`,`add-column-${i}`,"add-column-button",!1,"Add Column",{type:"click",func:()=>{const e={innerHTML:"col"};a.header&&r.tables[i].headerContent.push(e),r.tables[i].content.forEach((t=>{t.push(e)})),r.tables[i].columns++,c()}}),t("button",`editor-table-container-${i}`,`remove-column-${i}`,"remove-column-button",!1,"Remove Column",{type:"click",func:()=>{a.header&&r.tables[i].headerContent.pop(),r.tables[i].content.forEach((e=>{e.pop()})),r.tables[i].columns>0&&r.tables[i].columns--,c()}}),t("input",`editor-table-container-${i}`,`caption-toggle-${i}`,"caption-toggle",!1,!1,{type:"click",func:e=>{r.tables[i].caption=!r.tables[i].caption,e.target.checked?console.log("checked"):console.log("not checked"),c()}},{type:"checkbox",name:"captionToggle",value:"Toggle caption",checked:r.tables[i].caption}),t("input",`editor-table-container-${i}`,`header-toggle-${i}`,"header-toggle",!1,!1,{type:"click",func:()=>{r.tables[i].header=!r.tables[i].header,c()}},{type:"checkbox",name:"headerToggle",value:"Table header",checked:r.tables[i].header}),a.caption&&t("caption",`editor-table-${i}`,`table-caption-${i}`,!1,!0,a.captionText,{type:"input",func:t=>{r.tables[i].captionText=t.target.textContent,localStorage.setItem("savedState",JSON.stringify(r)),n(e.state,o)}}),a.header){t("thead",`editor-table-${i}`,`table-head-${i}`),t("tr",`table-head-${i}`,`table-header-${i}`);for(let l=0;l<a.columns;l++)t("th",`table-header-${i}`,!1,!1,!0,a.headerContent[l].innerHTML,{type:"input",func:t=>{r.tables[i].headerContent[l].innerHTML=t.target.textContent,localStorage.setItem("savedState",JSON.stringify(r)),n(e.state,o)}})}for(let l=0;l<a.rows;l++){t("tbody",`editor-table-${i}`,`table-body-${i}`),t("tr",`table-body-${i}`,`table-row-${l}`);for(let c=0;c<a.columns;c++)t("td",`table-row-${l}`,`td-${l}${c}`,!1,!0,a.content[l][c].innerHTML,{type:"input",func:t=>{r.tables[i].content[l][c].innerHTML=t.target.textContent,localStorage.setItem("savedState",JSON.stringify(r)),n(e.state,o)}})}}))};document.getElementById("add-row"),document.getElementById("add-column");const r=document.getElementById("copy-table-code"),o=document.getElementById("table-code");let l="";const i=new Promise(((e,t)=>{l=JSON.parse(localStorage.getItem("savedState")),l?e("Save state found."):t("No save state.")}));i.then((()=>{e.state=l,c()})),i.catch((()=>{console.log("No local state"),c()}));const c=()=>{a(e),n(e.state,o),r.addEventListener("click",(()=>{(e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})(o.innerHTML.replace(/<br\s*[\/]?>/gi,"\n").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," "))}))}}();
