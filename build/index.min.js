!function(){"use strict";const e={state:{loading:!0,currentTable:1,tables:[{columns:5,rows:5,header:!0,caption:"",headerContent:[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}],content:[[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}],[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}],[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}],[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}],[{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"},{innerHTML:"innerHTML"}]]}]},addState:(e,t)=>state[e]=t,removeState:e=>delete state[e],updateState:(e,t)=>state[e]=t},t=(e,t,n,r,a,i,l)=>{if("string"==typeof t&&(t=document.getElementById(t)),!e||!t)return void console.log("createElement requires type and parent params!");let o=document.createElement(e);n&&o.setAttribute("id",`${n}`),r&&o.setAttribute("class",`${r}`),a&&o.setAttribute("contenteditable","true"),i&&(o.innerHTML=i),l&&o.addEventListener(l.type,(e=>{l.func(e)})),t.appendChild(o)},n=(e,t)=>{t||(t=document.getElementById("table-code"));let n="";const r=e=>"Â ".repeat(e);for(let t=0;t<e.tables.length;t++){if(n+="&lt;table&gt<br>",e.tables[t].header){n+=`${r(2)}&lt;thead&gt<br>${r(4)}&lt;tr&gt<br>`;for(let a=0;a<e.tables[t].columns;a++)n+=`${r(6)}&lt;th&gt${e.tables[t].headerContent[a].innerHTML}&lt;/th&gt<br>`;n+=`${r(4)}&lt;/tr&gt<br>${r(2)}&lt;/thead&gt<br>`}n+=`${r(2)}&lt;tbody&gt<br>`;for(let a=0;a<e.tables[t].rows;a++){n+=`${r(4)}&lt;tr&gt<br>`;for(let i=0;i<e.tables[t].columns;i++)n+=`${r(6)}&lt;td&gt${e.tables[t].content[a][i].innerHTML}&lt;/td&gt<br>`;n+=`${r(4)}&lt;/tr&gt<br>`}n+=`${r(2)}&lt;/tbody&gt<br>`,n+="&lt;/table&gt<br>"}t.innerHTML=n},r=(e,t)=>{let{columns:n}=e.tables[t],r=[];for(let e=0;e<n;e++)r.push({innerHTML:" hi "});return r},a=(e,i)=>{const{state:l}=e;let o=document.getElementById("editor-table-container"),d=document.getElementById("editor-area");o.parentNode.removeChild(o),o=document.createElement("div"),o.setAttribute("id","editor-table-container"),d.appendChild(o),l.tables.map(((d,c)=>{if(t("div",o,`editor-table-container-${c}`),t("table",`editor-table-container-${c}`,`editor-table-${c}`,"editor-table"),t("button",`editor-table-container-${c}`,`add-row-${c}`,"add-row-button",!1,"Add Row",{type:"click",func:()=>{console.log(r(e.state,c)),l.tables[c].rows++,l.tables[c].content.push(r(e.state,c)),localStorage.setItem("savedState",JSON.stringify(l)),n(e.state,i),a(e,o)}}),d.header){t("thead",`editor-table-${c}`,`table-head-${c}`),t("tr",`table-head-${c}`,`table-header-${c}`);for(let e=0;e<d.columns;e++)t("th",`table-header-${c}`,!1,!1,!0,d.headerContent[e].innerHTML)}for(let r=0;r<d.rows;r++){t("tbody",`editor-table-${c}`,`table-body-${c}`),t("tr",`table-body-${c}`,`table-row-${r}`);for(let a=0;a<d.columns;a++)t("td",`table-row-${r}`,`td-${r}${a}`,!1,!0,d.content[r][a].innerHTML,{type:"input",func:t=>{l.tables[c].content[r][a].innerHTML=t.target.textContent,localStorage.setItem("savedState",JSON.stringify(l)),n(e.state,i)}})}}))};document.getElementById("add-row"),document.getElementById("add-column");const i=document.getElementById("copy-table-code"),l=document.getElementById("table-code");let o="";const d=new Promise(((e,t)=>{o=JSON.parse(localStorage.getItem("savedState")),o?e("Save state found."):t("No save state.")}));d.then((()=>{e.state=o,c()})),d.catch((()=>{console.log("No local state"),c()}));const c=()=>{a(e,l),n(e.state,l),i.addEventListener("click",(()=>{(e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})(l.innerHTML.replace(/<br\s*[\/]?>/gi,"\n").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," "))}))}}();
